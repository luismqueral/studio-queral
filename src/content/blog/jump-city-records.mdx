---
title: "Jump City Records"
description: "An experimental, open-source record label that produces albums through Python bots"
date: 2015-01-14
tags: ["generative", "audio", "python", "art"]
draft: false
---

import AsciinemaPlayer from '../../components/AsciinemaPlayer.jsx';

![Jump City Records](https://raw.githubusercontent.com/luismqueral/jumpcityrecords/master/_assets/jump-city.png)

[Jump City Records](https://github.com/luismqueral/jumpcityrecords) is an experimental, open-source record label that produces and releases its albums through a series of Python bots. I designed it and [Michiel Overtoom](http://www.michielovertoom.com/) engineered it.

The illustration above was done by [Matt Carignan](http://mattcarignan.com/).

## Watch It Run

Here's a recording of the bot generating an album in real-time:

<AsciinemaPlayer 
  client:load
  src="/assets/jumpcity-demo.json" 
  cols={119}
  rows={34} 
  speed={2}
  autoPlay={true}
  idleTimeLimit={1}
/>

## Architecture

The system is modular, with each Python file handling a specific responsibility:

```
src/
├── jumpcity.py      # Main orchestrator
├── albumtracks.py   # Metadata generation (titles, durations)
├── composetrack.py  # Audio synthesis and mixing
├── albumart.py      # Cairo-based cover generation
├── constants.py     # Configuration (min/max durations, track counts)
└── utils.py         # SoX helpers, duration detection
```

### The Orchestrator: `jumpcity.py`

The main driver coordinates the full pipeline:

1. Generate album metadata (name, tracks, durations)
2. Render album art via Cairo
3. Compose each track from random samples
4. Tag the output files with FLAC metadata
5. Optionally upload to SoundCloud via `scaup`

### Title Generation: `albumtracks.py`

Titles come from a pre-parsed Wikipedia dump (`titles.dat`). The system:

- Maintains separate pools of English vs. non-English titles
- Weights 80% English, 20% other languages
- Filters out parenthetical disambiguations for album titles
- Ensures no duplicate track names within an album

```python
if utils.rnd(100) < 80:
    name = random.choice(self.english_titles)
else:
    name = random.choice(self.non_english_titles)
```

### Audio Synthesis: `composetrack.py`

This is where the actual music happens. For each track:

1. **Select an asset folder** — Random choice from `_assets/`
2. **Pick 3 samples** — Random files from that folder
3. **Process each layer:**
   - Normalize to stereo 44.1kHz
   - If longer than target: trim a random excerpt + fade out
   - If shorter than target: loop/repeat
   - Apply stereo panning (center, left, right)
4. **Mix layers** — `sox -m layer0.wav layer1.wav layer2.wav track.wav`
5. **Encode** — Convert to FLAC with embedded artwork and tags

The panning creates stereo width:

```python
panning = (
    "remix 1 2",        # Layer 0: center
    "remix 1 2v0.25",   # Layer 1: right
    "remix 1v0.25 2",   # Layer 2: left
)
```

### Album Art: `albumart.py`

Cover art is generated programmatically using Cairo (Python bindings). Each cover includes:

- Album title
- Track listing with durations
- Timestamp
- Credits

The typography uses Transport Medium and Apercu fonts when available.

## Configuration

All the magic numbers live in `constants.py`:

| Parameter | Default |
|-----------|---------|
| Min track duration | 15 seconds |
| Max track duration | 6 minutes |
| Min tracks per album | 3 |
| Max tracks per album | 8 |
| Output format | FLAC |

## Example Output

```
░ jump city records, Bal des Ardents (2017-04-09 22.55.32)
░ generated by jumpcity.py

01 Triticum aestivum                 3:57
02 Antigono I Monoftalmo             4:42
03 Temperamento (musica)             3:13
04 Phil Brooks                       5:37
05 High-protein diet                 2:06
06 Tarta de Santiago                 4:28
07 Huangtai railway station          2:26
08 The United States of America      4:02
09 Burton's Foods                    4:38
10 Sallow-skinned                    2:54
11 Gerola Alta                       5:54
```

## Listen

All releases are published to SoundCloud: [soundcloud.com/jumpcityrecords](https://soundcloud.com/jumpcityrecords)

## Dependencies

| Tool | Purpose |
|------|---------|
| **SoX** | Audio mixing, effects, format conversion |
| **FLAC** | Lossless encoding with metadata |
| **Cairo** | Programmatic album art |
| **LAME** | MP3 encoding (optional) |

**Source:** [github.com/luismqueral/jumpcityrecords](https://github.com/luismqueral/jumpcityrecords)

