<!-- Projects page uses unique mw9 container -->
<div class="mw9 center">
    <!-- Projects Description Callout -->
    <div class="mb4 pa3 pa4-ns bg-near-white br2 ba b--light-gray mw7 center">
        <p class="f6 f5-ns lh-copy ma0 mb3 gray">
            Below are collection of tools, experiments, and creative projects.
        </p>
        <p class="f6 f5-ns lh-copy ma0 mb3 gray">
            A mix of creative software tools, generative art, and other explorations. Some are finished products, others are ongoing endeavors. Use the filters below to browse.
        </p>
        <p class="f6 f5-ns lh-copy ma0 gray">
            My product design portfolio is private, please reach out to <a href="mailto:hey@queral.studio" class="link gray hover-near-black underline-hover">hey@queral.studio</a> if you're interested.
        </p>
    </div>

    <!-- Tag Filter Pills -->
    <div class="tc mb4">
        <div class="extended-grid pa3 mb3">
            <div class="flex flex-wrap justify-center">
            <button class="filter-pill f6 br-pill ph3 pv2 ma1 bn pointer bg-white gray hover-bg-dark-gray hover-white active" data-filter="featured">
                featured work
            </button>
            <button class="filter-pill f6 br-pill ph3 pv2 ma1 bn pointer bg-white gray hover-bg-dark-gray hover-white" data-filter="design-thinking">
                design thinking
            </button>
            <button class="filter-pill f6 br-pill ph3 pv2 ma1 bn pointer bg-white gray hover-bg-dark-gray hover-white" data-filter="generative-art">
                generative art
            </button>
            <button class="filter-pill f6 br-pill ph3 pv2 ma1 bn pointer bg-white gray hover-bg-dark-gray hover-white" data-filter="music-film">
                music &amp; film
            </button>
            <button class="filter-pill f6 br-pill ph3 pv2 ma1 bn pointer bg-white gray hover-bg-dark-gray hover-white" data-filter="writing">
                writing
            </button>
            <button class="filter-pill f6 br-pill ph3 pv2 ma1 bn pointer bg-white gray hover-bg-dark-gray hover-white" data-filter="other">
                other
            </button>
            </div>
        </div>
    </div>

    <!-- Projects grid container -->
    <div class="grid-container extended-grid">
        <!-- Project Card: Generative Strategies -->
        <a href="https://strategy.garden" 
           target="_blank" 
           class="project-card pa4 bg-white br2 ba b--light-gray tc link" 
           data-tags="generative-art featured">
            <div class="mb2">
                <img src="{{ url_for('static', filename='images/generative-strategies.png') }}" 
                     alt="Generative Strategies" 
                     class="mw-100 h-auto" 
                     style="max-height: 120px;">
            </div>
            <p class="f5 lh-copy gray ma0 mb4" style="font-family: Inter, -apple-system, BlinkMacSystemFont, sans-serif;">
                A collection of lateral prompts for LLM's.
            </p>
            <span class="f6 near-black project-link-text"
                  style="font-family: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;">
                strategy.garden
            </span>
        </a>

        <!-- Project Card: Split Triple Diamond Method -->
        <div class="project-card pa4 bg-white br2 ba b--light-gray" data-tags="design-thinking">
            <h2 class="f5 fw6 mb1 near-black mt0">Split Triple Diamond Method</h2>
            <p class="f6 lh-copy gray ma0 mb3">
                A working process to improve designer / engineer friction.
            </p>
            <div class="tc">
                <svg viewBox="0 0 140 80" class="w-80 h-auto">
                    <!-- Phase labels -->
                    <text x="25" y="8" text-anchor="middle" fill="#777" style="font-size: 5px; font-family: monospace;">DISCOVERY</text>
                    <text x="70" y="8" text-anchor="middle" fill="#777" style="font-size: 5px; font-family: monospace;">CONCEPTING</text>
                    <text x="115" y="8" text-anchor="middle" fill="#777" style="font-size: 5px; font-family: monospace;">PRODUCTION</text>
                    
                    <!-- First Diamond -->
                    <g>
                        <!-- Top triangle (Design) -->
                        <polygon points="25,12 45,38 5,38" fill="#e8a5a5" stroke="none"/>
                        <text x="25" y="29" text-anchor="middle" fill="white" style="font-size: 4px; font-family: monospace;">DES</text>
                        <!-- Bottom triangle (Engineering) -->
                        <polygon points="5,40 45,40 25,66" fill="#a5c5e8" stroke="none"/>
                        <text x="25" y="51" text-anchor="middle" fill="white" style="font-size: 4px; font-family: monospace;">ENG</text>
                    </g>
                    
                    <!-- Second Diamond -->
                    <g>
                        <!-- Top triangle (Design) -->
                        <polygon points="70,12 90,38 50,38" fill="#e8a5a5" stroke="none"/>
                        <text x="70" y="29" text-anchor="middle" fill="white" style="font-size: 4px; font-family: monospace;">DES</text>
                        <!-- Bottom triangle (Engineering) -->
                        <polygon points="50,40 90,40 70,66" fill="#a5c5e8" stroke="none"/>
                        <text x="70" y="51" text-anchor="middle" fill="white" style="font-size: 4px; font-family: monospace;">ENG</text>
                    </g>
                    
                    <!-- Third Diamond -->
                    <g>
                        <!-- Top triangle (Design) -->
                        <polygon points="115,12 135,38 95,38" fill="#e8a5a5" stroke="none"/>
                        <text x="115" y="29" text-anchor="middle" fill="white" style="font-size: 4px; font-family: monospace;">DES</text>
                        <!-- Bottom triangle (Engineering) -->
                        <polygon points="95,40 135,40 115,66" fill="#a5c5e8" stroke="none"/>
                        <text x="115" y="51" text-anchor="middle" fill="white" style="font-size: 4px; font-family: monospace;">ENG</text>
                    </g>
                </svg>
            </div>
        </div>

        <!-- Project Card: Spooky Looper -->
        <div class="project-card pa4 bg-white br2 ba b--light-gray" data-tags="music-film">
            <h2 class="f2 fw6 mb3 near-black mt0 font-hobo tc">Spooky Looper</h2>
            <div class="mb3 tc">
                <img src="{{ url_for('static', filename='images/spooky-looper-crisp.png') }}" 
                     alt="Spooky Looper Interface" 
                     class="w-70 h-auto">
            </div>
            <p class="f6 lh-copy gray tc ma0">
                An offbeat, browser-based audio looper.
            </p>
        </div>

        <!-- Project Card: Happybirthdaybridget.biz -->
        <a href="https://happybirthdaybridget.biz" 
           target="_blank" 
           class="project-card pa4 bg-white br2 ba b--light-gray tc link birthday-card" 
           data-tags="other"
           style="font-family: 'Comic Sans MS', cursive, sans-serif;">
            <div class="f3 mb2">ðŸŽˆðŸŽˆðŸŽˆ</div>
            <div class="pa3 br2 mb2" style="background: linear-gradient(135deg, #fff5a5, #ffeb3b, #ffc107);">
                <h2 class="f2 fw6 mb0 near-black mt0" style="font-family: 'Lucida Blackletter', serif; line-height: 1.1;">Happy Birthday<br>Bridget<br><span class="f4 fw4 font-comic-sans" style="text-decoration: none !important; margin-top: -0.2rem; display: inline-block;">(dot biz)</span></h2>
            </div>
            <p class="f6 lh-copy near-black">
                the official website for bridgets birthday
            </p>
        </a>

        <!-- Project Card: PR Detective -->
        <div class="project-card pa4 bg-white br2 ba b--light-gray" data-tags="other">
            <h2 class="f5 fw6 mb1 near-black mt0">PR Detective</h2>
            <p class="f6 lh-copy gray ma0 mb3">
                Tool for analyzing and tracking pull request activity
            </p>
        </div>

        <!-- Project Card: Jump City Records -->
        <div class="project-card pa4 bg-white br2 ba b--light-gray tc" data-tags="music-film">
            <h2 class="f5 fw6 mb1 near-black mt0">Jump City Records</h2>
            <p class="f6 lh-copy gray ma0 mb3">
                an experimental, generative music label bot (2013)
            </p>
            <div class="tc">
                <img src="{{ url_for('static', filename='images/jump-city.png') }}" 
                     alt="Jump City Records" 
                     class="w-60 h-auto">
            </div>
        </div>

        <!-- Project Card: Hamburger Music -->
        <div class="project-card pa4 bg-white br2 ba b--light-gray tc" data-tags="music-film">
            <h2 class="f5 fw6 mb1 near-black mt0">Hamburger Music</h2>
            <p class="f6 lh-copy gray ma0 mb3">
                TK
            </p>
            <div class="tc">
                <img src="{{ url_for('static', filename='images/hamburger-music.png') }}" 
                     alt="Hamburger Music" 
                     class="w-60 h-auto">
            </div>
        </div>

        <!-- Project Card: SVG Bricolage -->
        <div class="project-card pa4 bg-white br2 ba b--light-gray" data-tags="other">
            <h2 class="f5 fw6 mb1 near-black mt0">SVG Bricolage</h2>
            <p class="f6 lh-copy gray ma0 mb3">
                TK
            </p>
        </div>

        <!-- Project Card: Generative Design Thinking -->
        <div class="project-card pa4 bg-white br2 ba b--light-gray tc" data-tags="design-thinking writing">
            <h2 class="f2 fw6 mb1 near-black mt0 tc" style="font-family: 'Times New Roman', Times, serif;">Generative Design<br>Thinking</h2>
            <p class="f6 lh-copy gray ma0 mb3">
                an (in progress) book about the art, process, and spirit of generative creativity.
            </p>
        </div>

        <!-- Project Card: Happyfood -->
        <div class="project-card pa4 bg-white br2 ba b--light-gray" data-tags="other">
            <h2 class="f5 fw6 mb1 near-black mt0">Happyfood</h2>
            <p class="f6 lh-copy gray ma0 mb3">
                Pictures of food with face on them
            </p>
        </div>

        <!-- Project Card: Sample Card with Image -->
        <div class="project-card pa4 bg-white br2 ba b--light-gray" data-tags="other">
            <div class="flex items-start h-100">
                <div class="flex-auto pr3">
                    <h2 class="f5 fw6 mb1 near-black mt0">Sample Project</h2>
                    <p class="f6 lh-copy gray ma0 mb3">
                        Example project with a square image on the right side
                    </p>
                </div>
                <div class="flex-none">
                    <div class="square-image bg-light-gray br2" style="background-color: #f0f0f0;">
                        <!-- Placeholder square image -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Project Card: Noice Network -->
        <a href="https://noice.network" 
           target="_blank" 
           class="project-card pa4 bg-white br2 ba b--light-gray tc link" 
           data-tags="generative-art featured">
            <div class="mb3 tc">
                <img src="{{ url_for('static', filename='images/noice-crisp.gif') }}" 
                     alt="Noice Network" 
                     class="w-30 h-auto"
                     style="image-rendering: pixelated; image-rendering: -moz-crisp-edges; image-rendering: crisp-edges;">
            </div>
            <h2 class="f5 fw6 mb1 near-black tc mt0">N.O.I.C.E</h2>
            <div class="f6 lh-copy gray ma0 mb3 tc" style="font-family: Inter, -apple-system, BlinkMacSystemFont, sans-serif;">
                <div style="white-space: nowrap;">Network of Interconnected</div>
                <div style="white-space: nowrap;">Content Engines</div>
            </div>
            <span class="f6 near-black project-link-text"
                  style="font-family: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;">
                noice.network
            </span>
        </a>

        <!-- Project Card: Product Design Portfolio -->
        <a href="mailto:hey@queral.studio?subject=hey%20luis&body=i%20am%20interested%20in%20learning%20more%20about%20your%20product%20design%20work%2C%20would%20you%20be%20interested%20in%20chatting%3F" 
           target="_blank"
           class="project-card pa4 bg-white br2 ba b--light-gray tc link" 
           data-tags="design-thinking">
            <div class="f1 mb3">ðŸ”’ðŸ˜¤ðŸ‘Œ</div>
            <h2 class="f5 fw6 mb1 near-black mt0">Product Design Portfolio</h2>
            <p class="f6 lh-copy gray mb4">
                A collection of client work and internal-facing projects. By special request only.
            </p>
            <span class="f6 near-black project-link-text"
                  style="font-family: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;">
                View Portfolio
            </span>
        </a>

        <!-- Project Card: Large Image Example -->
        <div class="project-card pa4 bg-white br2 ba b--light-gray" data-tags="other">
            <div class="flex items-start h-100">
                <div class="flex-auto pr3">
                    <h2 class="f5 fw6 mb1 near-black mt0">Large Image Project</h2>
                    <p class="f6 lh-copy gray ma0 mb3">
                        Project featuring a much larger square image placeholder
                    </p>
                </div>
                <div class="flex-none">
                    <div class="large-square-image bg-light-gray br2" style="background-color: #e0e0e0;">
                        <!-- Large placeholder square image -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* Filter pill styles */
.filter-pill {
    transition: all 0.2s ease;
    font-family: 'Inter', 'InterVariable', -apple-system, BlinkMacSystemFont, sans-serif;
}

.filter-pill:hover {
    transform: translateY(-1px);
}

.filter-pill:active {
    transform: translateY(1px);
}

.filter-pill.inactive {
    /* No opacity reduction for inactive pills */
}

.filter-pill.active {
    background-color: #333 !important;
    color: white !important;
}

/* Grid layout for projects - Two columns */
.grid-container {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    max-width: 900px;
}

/* Extended grid that goes beyond container */
.extended-grid {
    width: min(800px, calc(100vw - 2rem));
    margin-left: auto;
    margin-right: auto;
    position: relative;
    left: 50%;
    transform: translateX(-50%);
}

/* Ensure consistent card heights and aspect ratio */
.project-card {
    display: flex;
    flex-direction: column;
    height: auto;
    aspect-ratio: 4 / 3;
    justify-content: flex-start;
    transition: all 0.2s ease;
    cursor: pointer;
    text-decoration: none;
    overflow: hidden;
}

/* Hide projects when filtered */
.project-card.hidden {
    display: none !important;
}

/* Square image sizing for cards with right-side images */
.square-image {
    width: calc(75% / 4 * 3 - 1.5rem);
    height: calc(75% / 4 * 3 - 1.5rem);
    min-width: 60px;
    min-height: 60px;
    max-width: 80px;
    max-height: 80px;
}

/* Large square image sizing for cards with prominent images */
.large-square-image {
    width: calc(75% / 4 * 3 - 1rem);
    height: calc(75% / 4 * 3 - 1rem);
    min-width: 90px;
    min-height: 90px;
    max-width: 120px;
    max-height: 120px;
}

.project-card:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    border-color: #cccccc;
}

.project-card:active {
    transform: translateY(1px);
}

.project-card:hover .project-link-text {
    text-decoration: underline;
}

/* Special styling for birthday card */
.birthday-card:hover h2 {
    text-decoration: underline;
}

/* Special styling for logo card */
.project-card.tc {
    justify-content: center;
    align-items: center;
}

/* Responsive adjustments */
@media screen and (max-width: 48em) {
    .grid-container {
        grid-template-columns: 1fr;
        gap: 1.5rem;
        max-width: 100%;
        margin: 0;
        padding: 0 1rem;
    }
    
    .project-card {
        width: 100%;
        aspect-ratio: unset;
        height: auto;
        min-height: unset;
    }
    
    .filter-pill {
        font-size: 0.75rem;
        padding: 0.5rem 0.75rem;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Get all filter pills and project cards
    const filterPills = document.querySelectorAll('.filter-pill');
    const projectCards = document.querySelectorAll('.project-card');
    
    // Initialize with featured filter active
    const featuredFilter = document.querySelector('[data-filter="featured"]');
    if (featuredFilter && featuredFilter.classList.contains('active')) {
        // Set visual state for pills
        filterPills.forEach(p => {
            if (p !== featuredFilter) {
                p.classList.add('inactive');
            }
        });
        
        // Filter project cards to show only featured ones
        projectCards.forEach(card => {
            const cardTags = card.getAttribute('data-tags') || '';
            if (cardTags.includes('featured')) {
                card.classList.remove('hidden');
            } else {
                card.classList.add('hidden');
            }
        });
    }
    
    // Add click event listeners to filter pills
    filterPills.forEach(pill => {
        pill.addEventListener('click', function() {
            const filterValue = this.getAttribute('data-filter');
            
            // Check if this pill is currently active
            const isCurrentlyActive = this.classList.contains('active');
            
            // Remove active class from all pills
            filterPills.forEach(p => {
                p.classList.remove('active');
                p.classList.remove('inactive');
            });
            
            // If the clicked pill wasn't active, make it active
            if (!isCurrentlyActive) {
                this.classList.add('active');
                
                // Set all other pills as inactive for visual feedback
                filterPills.forEach(p => {
                    if (p !== this) {
                        p.classList.add('inactive');
                    }
                });
                
                // Filter project cards to show only matching ones
                projectCards.forEach(card => {
                    const cardTags = card.getAttribute('data-tags') || '';
                    
                    if (cardTags.includes(filterValue)) {
                        card.classList.remove('hidden');
                    } else {
                        card.classList.add('hidden');
                    }
                });
            } else {
                // If clicking the active pill, deactivate it and show all projects
                projectCards.forEach(card => {
                    card.classList.remove('hidden');
                });
            }
        });
    });
});
</script> 